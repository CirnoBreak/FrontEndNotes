[toc]
参考:
> 《计算机网路 第7版 第1章》

# 网络的网络

* 计算机网络(简称网络)由若干`结点(node)`和链接这些结点的`链路(link)`组成。结点可以是计算机、集线器、交换机或者路由器等。
* 网络之间可以通过路由器连起来，构成一个覆盖范围更大的计算机网络，这样的网成为`互连网`(internetwork 或 internet)，因此互连网是`网络的网络`(network of networks)。
* 网络把许多计算机连接在一起，而互连网则把许多网络通过路由器连接在一起。与网络相连的计算机通常成为`主机`(host)。

![互连网(网络的网络)](../img/network/internet.png)

# ISP

* 互连网服务提供者ISP(Internet Service Provider)，在许多情况下，ISP就是一个进行商业活动的公司，因此ISP又常译成互连网服务提供商。比如中国联通、中国电信。
* ISP可以从互联网管理机构申请到很多IP，同时拥有通信线路以及路由器等连接设备，因此任何机构只要向某个ISP交纳规定的费用，就可以从该ISP获取所需IP地址的使用权，并通过ISP接入到互联网，也就是上网。
* ISP也分为不同层次的ISP: 主干ISP、地区ISP和本地ISP。
* 从原理上讲，只要每一个本地ISP都安装了路由器连接到某个地区的ISP，而每一个地区的ISP也有路由器连接到主干ISP，那么在这些相互连接的ISP的共同合作下，就可以完成互连网中的所有分组转发任务。
* 互连网交换点IXP(Internet eXchange Point)的主要作用是允许两个网络直接相连并交换分组，而不需要通过三个网络来转发分组。

![ISP](../img/network/isp.png)

# 互联网组成

从工作方式上可以划分成两大块:
* 边缘部分。有所有连接在互联网上的`主机`组成，这部分是`用户直接使用`的，用来进行通信(传送数据、音频或者视频)和资源共享。
* 核心部分。有大量网络和连接这些网络上的`路由器`组成，这部分是为`边缘部分`提供服务的。

## 边缘部分

### 端系统: 
* 处在互联网边缘的部分是连接在`互联网上的所有的主机`，这些主机又称为`端`系统。
* 端系统的拥有者可以是人，可以是单位，也可以是某个ISP(ISP不仅是向端系统提供服务，它也可以拥有一些端系统)。

### 计算机之间的通信:

主机A的某个进程与主机B的另一个进程进行通信，通常简称为"计算机之间的通信"。

通信方式可以划分为两大类: 
* `客户-服务器`方式(C/S方式): 客户(client)和服务器(server)都是指通信中锁涉及的两个应用进程。客户-服务器方式所描述的是进城之间的服务和被服务的关系。
* `对等`方式(P2P方式): 指两台主机之间通信时并不区分哪一个是服务请求方哪一个是服务提供方。

![c/s](../img/network/cs.png)
![p2p](../img/network/p2p.png)

# 电路交换

* 在通信资源的分配角度来看，交换就是按照某种方式动态地分配传输线路的资源。在使用电路交换通话之前，必须先拨号请求建立连接，这条连接是一条`专用的物理通路`。
* 电路交换过程: 建立连接(占用通信资源) -> 通话(一直占用通信资源) -> 释放连接(归还通信资源)。
* 电路交换重要特点: 在通话的全部时间内，通话的两个用户`始终占用端`到端的通信资源。
* 使用电路交换来传输数据的时候，线路的`传输效率`往往`很低`。因为计算机数据是突发式地出现在传输线路上的，线路上真正用来传输数据的时间往往不到10%甚至1%。

![cirswitch](../img/network/circuitswitch.png)

# 分组交换

* 分组交换采用`存储转发`技术，把一个`报文`(message)划分为几个`分组`然后在进行传送。发送报文前，把报文`划分`成一个个`更小的等长数据段`，并且在每个数据段前面加上必要控制信息组成的首部(header)后，构成一个分组(packet)。分组又称为"包"，分组的首部又被称为"包头"。
* 分组是互联网中传送的数据单元。分组中"首部"很重要，因为它包含了目的地址和源地址等重要控制信息，这样每一个分组才能在互联网中独立地选择传输路径，并被正确地交付到分组传输的终点。

![packettrans](../img/network/packettrans.png)

* 分组交换优点:
  - 高效: 在分组传输过程中`动态分配`传输带宽，对通信链路`逐条占用`。
  - 灵活: 为每一个分组`独立地选择最合适`的转发路由。
  - 迅速: 以分组作为传送单位，`可以不先建立链接`就能向其他主机发送分组。
  - 可靠: 保证可靠性的网络协议。`分布式多路由交换分组网`，使网络有很好的生存性。
* 带来的问题: 分组交换在各路由器转发储存时需要排队，会造成一定的`时延`。另一个问题是个`分组携带控制信息`也会造成一定的`开销`(overload)，整个分组交换网还需要专门的管理和控制机制。

# 报文交换

20世纪40年代的电报通信也是基于`储存转发`原理的报文交换。在报文交换中心，一份电报接收下来，并穿成纸带，操作员以每份`报文`为单位，撕下纸带，根据报文`目的站地址`，拿到相应的发报机`转发`出去。

![3trans](../img/network/3trans.png)

